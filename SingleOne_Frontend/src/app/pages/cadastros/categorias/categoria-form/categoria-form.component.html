<!-- üéØ FORMUL√ÅRIO DE CATEGORIA -->
<div class="categoria-form-container">
  <div class="form-header">
    <h2 class="form-title">{{ getTitulo() }}</h2>
    <p class="form-subtitle">
      {{ modo === 'criar' ? 'Crie uma nova categoria para organizar seus tipos de equipamento' : 'Edite as informa√ß√µes da categoria selecionada' }}
    </p>
  </div>

  <form [formGroup]="categoriaForm" (ngSubmit)="onSubmit()" class="categoria-form">
    
    <!-- Campo Nome -->
    <div class="form-group">
      <label for="nome" class="form-label">
        Nome da Categoria <span class="required">*</span>
      </label>
      <input
        type="text"
        id="nome"
        formControlName="nome"
        class="form-control"
        [class.is-invalid]="categoriaForm.get('nome')?.invalid && categoriaForm.get('nome')?.touched"
        placeholder="Ex: Eletr√¥nicos, M√≥veis, Ve√≠culos..."
        maxlength="100"
      >
      <div class="invalid-feedback" *ngIf="categoriaForm.get('nome')?.invalid && categoriaForm.get('nome')?.touched">
        <span *ngIf="categoriaForm.get('nome')?.errors?.required">Nome √© obrigat√≥rio</span>
        <span *ngIf="categoriaForm.get('nome')?.errors?.maxlength">Nome deve ter no m√°ximo 100 caracteres</span>
      </div>
      <small class="form-text text-muted">
        Nome √∫nico para identificar a categoria
      </small>
    </div>

    <!-- Campo Descri√ß√£o -->
    <div class="form-group">
      <label for="descricao" class="form-label">
        Descri√ß√£o
      </label>
      <textarea
        id="descricao"
        formControlName="descricao"
        class="form-control"
        rows="3"
        placeholder="Descreva brevemente o que esta categoria representa..."
        maxlength="500"
      ></textarea>
      <div class="invalid-feedback" *ngIf="categoriaForm.get('descricao')?.invalid && categoriaForm.get('descricao')?.touched">
        <span *ngIf="categoriaForm.get('descricao')?.errors?.maxlength">Descri√ß√£o deve ter no m√°ximo 500 caracteres</span>
      </div>
      <small class="form-text text-muted">
        Descri√ß√£o opcional para melhor compreens√£o da categoria
      </small>
    </div>



    <!-- Bot√µes de A√ß√£o -->
    <div class="form-actions">
      <button
        type="button"
        class="btn btn-secondary"
        (click)="onCancelar()"
        [disabled]="carregando"
      >
        <i class="fas fa-times"></i>
        Cancelar
      </button>
      
      <button
        type="submit"
        class="btn btn-primary"
        [disabled]="categoriaForm.invalid || carregando"
      >
        <i class="fas fa-save" *ngIf="!carregando"></i>
        <i class="fas fa-spinner fa-spin" *ngIf="carregando"></i>
        {{ getBotaoTexto() }}
      </button>
    </div>
  </form>
</div>
